<html><head><title>LoadableDataModel.js</title><link rel="stylesheet" type="text/css" href="../style.css" media="screen"/></head><body><div class="hl-main"><pre><span class="hl-comment">/**
 * @class YAHOO.ext.grid.LoadableDataModel
 * This class extends DefaultDataModel and adds the core functionality to load data remotely. &lt;br&gt;&lt;br&gt;
 * @extends YAHOO.ext.grid.DefaultDataModel
 * @constructor
 * @param {String} dataType YAHOO.ext.grid.LoadableDataModel.XML, YAHOO.ext.grid.LoadableDataModel.TEXT or YAHOO.ext.grid.JSON
*/
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">grid</span><span class="hl-default">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">dataType</span><span class="hl-brackets">){
    </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">ext</span><span class="hl-code">.</span><span class="hl-identifier">grid</span><span class="hl-code">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-code">.</span><span class="hl-identifier">superclass</span><span class="hl-code">.</span><span class="hl-identifier">constructor</span><span class="hl-code">.</span><span class="hl-identifier">call</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">, </span><span class="hl-brackets">[])</span><span class="hl-code">;
    
    </span><span class="hl-comment">/** Fires when a successful load is completed - fireDirect sig: (this)
     * @type YAHOO.util.CustomEvent 
     * @deprecated Use addListener instead of accessing directly
     */
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-builtin">onLoad</span><span class="hl-code"> = </span><span class="hl-reserved">new </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">CustomEvent</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">load</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-comment">/** Fires when a load fails - fireDirect sig: (this, errorMsg, responseObj)
     * @type YAHOO.util.CustomEvent 
     * @deprecated Use addListener instead of accessing directly
     */
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">onLoadException</span><span class="hl-code"> = </span><span class="hl-reserved">new </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">CustomEvent</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">loadException</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;
    
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">events</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">load</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-builtin">onLoad</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">events</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">beforeload</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span><span class="hl-code"> = </span><span class="hl-reserved">new </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">CustomEvent</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">beforeload</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">events</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">loadexception</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">onLoadException</span><span class="hl-code">;
    
    </span><span class="hl-comment">/**@private*/
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dataType</span><span class="hl-code"> = </span><span class="hl-identifier">dataType</span><span class="hl-code">;
    </span><span class="hl-comment">/**@private*/
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">preprocessors</span><span class="hl-code"> = </span><span class="hl-brackets">[]</span><span class="hl-code">;
    </span><span class="hl-comment">/**@private*/
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">postprocessors</span><span class="hl-code"> = </span><span class="hl-brackets">[]</span><span class="hl-code">;
    
    </span><span class="hl-comment">// paging info
    /** The active page @type Number*/
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">loadedPage</span><span class="hl-code"> = </span><span class="hl-number">1</span><span class="hl-code">;
    </span><span class="hl-comment">/** True to use remote sorting, initPaging automatically sets this to true @type Boolean */
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">remoteSort</span><span class="hl-code"> = </span><span class="hl-reserved">false</span><span class="hl-code">;
    </span><span class="hl-comment">/** The number of records per page @type Number*/
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">pageSize</span><span class="hl-code"> = </span><span class="hl-number">0</span><span class="hl-code">;
    </span><span class="hl-comment">/** The script/page to call to provide paged/sorted data @type String*/
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">pageUrl</span><span class="hl-code"> = </span><span class="hl-reserved">null</span><span class="hl-code">;
    </span><span class="hl-comment">/** An object of key/value pairs to be passed as parameters
     * when loading pages/sorting @type Object*/
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">baseParams</span><span class="hl-code"> = </span><span class="hl-brackets">{}</span><span class="hl-code">;
    </span><span class="hl-comment">/** Maps named params to url parameters - Override to specify your own param names */
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">paramMap</span><span class="hl-code"> = </span><span class="hl-brackets">{</span><span class="hl-quotes">'</span><span class="hl-string">page</span><span class="hl-quotes">'</span><span class="hl-code">:</span><span class="hl-quotes">'</span><span class="hl-string">page</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">pageSize</span><span class="hl-quotes">'</span><span class="hl-code">:</span><span class="hl-quotes">'</span><span class="hl-string">pageSize</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">sortColumn</span><span class="hl-quotes">'</span><span class="hl-code">:</span><span class="hl-quotes">'</span><span class="hl-string">sortColumn</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">sortDir</span><span class="hl-quotes">'</span><span class="hl-code">:</span><span class="hl-quotes">'</span><span class="hl-string">sortDir</span><span class="hl-quotes">'</span><span class="hl-brackets">}</span><span class="hl-code">;
    
</span><span class="hl-brackets">}</span><span class="hl-default">;
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">extendX</span><span class="hl-brackets">(</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">ext</span><span class="hl-code">.</span><span class="hl-identifier">grid</span><span class="hl-code">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-code">, </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">ext</span><span class="hl-code">.</span><span class="hl-identifier">grid</span><span class="hl-code">.</span><span class="hl-identifier">DefaultDataModel</span><span class="hl-brackets">)</span><span class="hl-default">;

</span><span class="hl-comment">/** @ignore */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">grid</span><span class="hl-default">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">setLoadedPage</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">pageNum</span><span class="hl-code">, </span><span class="hl-identifier">userCallback</span><span class="hl-brackets">){
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">loadedPage</span><span class="hl-code"> = </span><span class="hl-identifier">pageNum</span><span class="hl-code">;
    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">typeof </span><span class="hl-identifier">userCallback</span><span class="hl-code"> == </span><span class="hl-quotes">'</span><span class="hl-string">function</span><span class="hl-quotes">'</span><span class="hl-brackets">){
        </span><span class="hl-identifier">userCallback</span><span class="hl-brackets">()</span><span class="hl-code">;
    </span><span class="hl-brackets">}
}</span><span class="hl-default">;

</span><span class="hl-comment">/** Returns true if this model uses paging @type Boolean */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">grid</span><span class="hl-default">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">isPaged</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(){
    </span><span class="hl-reserved">return this</span><span class="hl-code">.</span><span class="hl-identifier">pageSize</span><span class="hl-code"> &gt; </span><span class="hl-number">0</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/** Returns the total number of records available, override if needed @type Number */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">grid</span><span class="hl-default">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">getTotalRowCount</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(){
    </span><span class="hl-reserved">return this</span><span class="hl-code">.</span><span class="hl-identifier">totalCount</span><span class="hl-code"> || </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getRowCount</span><span class="hl-brackets">()</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/** Returns the number of records per page @type Number */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">grid</span><span class="hl-default">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">getPageSize</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(){
    </span><span class="hl-reserved">return this</span><span class="hl-code">.</span><span class="hl-identifier">pageSize</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/** Returns the total number of pages available @type Number */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">grid</span><span class="hl-default">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">getTotalPages</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(){
    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getPageSize</span><span class="hl-brackets">()</span><span class="hl-code"> == </span><span class="hl-number">0</span><span class="hl-code"> || </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getTotalRowCount</span><span class="hl-brackets">()</span><span class="hl-code"> == </span><span class="hl-number">0</span><span class="hl-brackets">){
        </span><span class="hl-reserved">return </span><span class="hl-number">1</span><span class="hl-code">;
    </span><span class="hl-brackets">}
    </span><span class="hl-reserved">return </span><span class="hl-builtin">Math</span><span class="hl-code">.</span><span class="hl-identifier">ceil</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getTotalRowCount</span><span class="hl-brackets">()</span><span class="hl-quotes">/</span><span class="hl-string">this.getPageSize());
};

</span><span class="hl-quotes">/</span><span class="hl-code">** </span><span class="hl-identifier">Initializes paging </span><span class="hl-reserved">for this </span><span class="hl-identifier">model</span><span class="hl-code">. *</span><span class="hl-quotes">/</span><span class="hl-string">
YAHOO.ext.grid.LoadableDataModel.prototype.initPaging = function(url, pageSize, baseParams){
    this.pageUrl = url;
    this.pageSize = pageSize;
    this.remoteSort = true;
    if(baseParams) this.baseParams = baseParams;
};

</span><span class="hl-quotes">/</span><span class="hl-code">** @</span><span class="hl-identifier">ignore</span><span class="hl-code"> *</span><span class="hl-quotes">/</span><span class="hl-string">
YAHOO.ext.grid.LoadableDataModel.prototype.createParams = function(pageNum, sortColumn, sortDir){
    var params = {}, map = this.paramMap;
    for(var key in this.baseParams){
        if(typeof this.baseParams[key] != 'function'){
            params[key] = this.baseParams[key];
        }
    }
    params[map['page']] = pageNum;
    params[map['pageSize']] = this.getPageSize();
    params[map['sortColumn']] = (typeof sortColumn == 'undefined' ? '' : sortColumn);
    params[map['sortDir']] = sortDir || '';
    return params;
};

YAHOO.ext.grid.LoadableDataModel.prototype.loadPage = function(pageNum, callback, keepExisting){
    var sort = this.getSortState();
    var params = this.createParams(pageNum, sort.column, sort.direction);
    this.load(this.pageUrl, params, this.setLoadedPage.createDelegate(this, [pageNum, callback]), 
               keepExisting ? (pageNum-1) * this.pageSize : null);
};

</span><span class="hl-quotes">/</span><span class="hl-code">** @</span><span class="hl-identifier">ignore</span><span class="hl-code"> *</span><span class="hl-quotes">/</span><span class="hl-string">
YAHOO.ext.grid.LoadableDataModel.prototype.applySort = function(suppressEvent){
	if(!this.remoteSort){
        YAHOO.ext.grid.LoadableDataModel.superclass.applySort.apply(this, arguments);
    }else if(!suppressEvent){
        var sort = this.getSortState();
        if(sort.column){
           this.fireRowsSorted(sort.column, sort.direction, true);
        }
    }
};

</span><span class="hl-quotes">/</span><span class="hl-code">** @</span><span class="hl-identifier">ignore</span><span class="hl-code"> *</span><span class="hl-quotes">/</span><span class="hl-string">
YAHOO.ext.grid.LoadableDataModel.prototype.resetPaging = function(){
	this.loadedPage = 1;
};

</span><span class="hl-quotes">/</span><span class="hl-code">** </span><span class="hl-identifier">Overridden sort method to use remote sorting </span><span class="hl-reserved">if </span><span class="hl-identifier">turned on</span><span class="hl-code"> *</span><span class="hl-quotes">/</span><span class="hl-string">
YAHOO.ext.grid.LoadableDataModel.prototype.sort = function(sortInfo, columnIndex, direction, suppressEvent){
    if(!this.remoteSort){
        YAHOO.ext.grid.LoadableDataModel.superclass.sort.apply(this, arguments);
    }else{
        this.sortInfo = sortInfo;
        this.sortColumn = columnIndex;
        this.sortDir = direction;
        var params = this.createParams(this.loadedPage, columnIndex, direction);
        this.load(this.pageUrl, params, this.fireRowsSorted.createDelegate(this, [columnIndex, direction, true]));
    }
}
</span><span class="hl-quotes">/</span><span class="hl-code">**
 * </span><span class="hl-identifier">Initiates the loading of the data from the specified URL</span><span class="hl-code"> - </span><span class="hl-identifier">Failed load attempts will</span><span class="hl-code"> 
 * </span><span class="hl-identifier">fire the </span><span class="hl-brackets">{</span><span class="hl-code">@</span><span class="hl-identifier">link</span><span class="hl-code"> #</span><span class="hl-identifier">onLoadException</span><span class="hl-brackets">} </span><span class="hl-identifier">event</span><span class="hl-code">.
 * @</span><span class="hl-identifier">param </span><span class="hl-brackets">{</span><span class="hl-identifier">Object</span><span class="hl-quotes">/</span><span class="hl-string">String} url The url from which the data can be loaded
 * @param {&lt;i&gt;String</span><span class="hl-quotes">/</span><span class="hl-identifier">Object</span><span class="hl-code">&lt;</span><span class="hl-quotes">/</span><span class="hl-string">i&gt;} params (optional) The parameters to pass as either a url encoded string &quot;param1=1&amp;amp;param2=2&quot; or as an object {param1: 1, param2: 2}
 * @param {&lt;i&gt;Function&lt;</span><span class="hl-quotes">/i</span><span class="hl-code">&gt;</span><span class="hl-brackets">} </span><span class="hl-identifier">callback </span><span class="hl-brackets">(</span><span class="hl-identifier">optional</span><span class="hl-brackets">) </span><span class="hl-identifier">Callback when load is complete</span><span class="hl-code"> - </span><span class="hl-identifier">called </span><span class="hl-reserved">with </span><span class="hl-identifier">signature </span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">, </span><span class="hl-identifier">rowCountLoaded</span><span class="hl-brackets">)</span><span class="hl-code">
 * @</span><span class="hl-identifier">param </span><span class="hl-brackets">{</span><span class="hl-code">&lt;</span><span class="hl-identifier">i</span><span class="hl-code">&gt;</span><span class="hl-builtin">Number</span><span class="hl-code">&lt;</span><span class="hl-quotes">/</span><span class="hl-string">i&gt;} insertIndex (optional) if present, loaded data is inserted at the specified index instead of overwriting existing data
 *</span><span class="hl-quotes">/
</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">ext</span><span class="hl-code">.</span><span class="hl-identifier">grid</span><span class="hl-code">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-code">.</span><span class="hl-identifier">load</span><span class="hl-code"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">url</span><span class="hl-code">, </span><span class="hl-identifier">params</span><span class="hl-code">, </span><span class="hl-identifier">callback</span><span class="hl-code">, </span><span class="hl-identifier">insertIndex</span><span class="hl-brackets">){
	</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">fireEvent</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">beforeload</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;
	</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">params</span><span class="hl-code"> &amp;&amp; </span><span class="hl-reserved">typeof </span><span class="hl-identifier">params</span><span class="hl-code"> != </span><span class="hl-quotes">'</span><span class="hl-string">string</span><span class="hl-quotes">'</span><span class="hl-brackets">){ </span><span class="hl-comment">// must be object
        </span><span class="hl-reserved">var </span><span class="hl-identifier">buf</span><span class="hl-code"> = </span><span class="hl-brackets">[]</span><span class="hl-code">;
        </span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">key </span><span class="hl-reserved">in </span><span class="hl-identifier">params</span><span class="hl-brackets">){
            </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">typeof </span><span class="hl-identifier">params</span><span class="hl-brackets">[</span><span class="hl-identifier">key</span><span class="hl-brackets">]</span><span class="hl-code"> != </span><span class="hl-quotes">'</span><span class="hl-string">function</span><span class="hl-quotes">'</span><span class="hl-brackets">){
                </span><span class="hl-identifier">buf</span><span class="hl-code">.</span><span class="hl-identifier">push</span><span class="hl-brackets">(</span><span class="hl-identifier">encodeURIComponent</span><span class="hl-brackets">(</span><span class="hl-identifier">key</span><span class="hl-brackets">)</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">=</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-identifier">encodeURIComponent</span><span class="hl-brackets">(</span><span class="hl-identifier">params</span><span class="hl-brackets">[</span><span class="hl-identifier">key</span><span class="hl-brackets">])</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">&amp;</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;
            </span><span class="hl-brackets">}
        }
        </span><span class="hl-reserved">delete </span><span class="hl-identifier">buf</span><span class="hl-brackets">[</span><span class="hl-identifier">buf</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">-</span><span class="hl-number">1</span><span class="hl-brackets">]</span><span class="hl-code">;
        </span><span class="hl-identifier">params</span><span class="hl-code"> = </span><span class="hl-identifier">buf</span><span class="hl-code">.</span><span class="hl-identifier">join</span><span class="hl-brackets">(</span><span class="hl-quotes">''</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-brackets">}
    </span><span class="hl-reserved">var </span><span class="hl-identifier">cb</span><span class="hl-code"> = </span><span class="hl-brackets">{
        </span><span class="hl-identifier">success</span><span class="hl-code">: </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">processResponse</span><span class="hl-code">,
        </span><span class="hl-identifier">failure</span><span class="hl-code">: </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">processException</span><span class="hl-code">,
        </span><span class="hl-identifier">scope</span><span class="hl-code">: </span><span class="hl-reserved">this</span><span class="hl-code">,
		</span><span class="hl-identifier">argument</span><span class="hl-code">: </span><span class="hl-brackets">{</span><span class="hl-identifier">callback</span><span class="hl-code">: </span><span class="hl-identifier">callback</span><span class="hl-code">, </span><span class="hl-identifier">insertIndex</span><span class="hl-code">: </span><span class="hl-identifier">insertIndex</span><span class="hl-brackets">}
    }</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">method</span><span class="hl-code"> = </span><span class="hl-identifier">params</span><span class="hl-code"> ? </span><span class="hl-quotes">'</span><span class="hl-string">POST</span><span class="hl-quotes">'</span><span class="hl-code"> : </span><span class="hl-quotes">'</span><span class="hl-string">GET</span><span class="hl-quotes">'</span><span class="hl-code">;
    </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Connect</span><span class="hl-code">.</span><span class="hl-identifier">asyncRequest</span><span class="hl-brackets">(</span><span class="hl-identifier">method</span><span class="hl-code">, </span><span class="hl-identifier">url</span><span class="hl-code">, </span><span class="hl-identifier">cb</span><span class="hl-code">, </span><span class="hl-identifier">params</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-code">;

</span><span class="hl-comment">/**@private*/
</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">ext</span><span class="hl-code">.</span><span class="hl-identifier">grid</span><span class="hl-code">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-code">.</span><span class="hl-identifier">processResponse</span><span class="hl-code"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">response</span><span class="hl-brackets">){
    </span><span class="hl-reserved">var </span><span class="hl-identifier">cb</span><span class="hl-code"> = </span><span class="hl-identifier">response</span><span class="hl-code">.</span><span class="hl-identifier">argument</span><span class="hl-code">.</span><span class="hl-identifier">callback</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">keepExisting</span><span class="hl-code"> = </span><span class="hl-brackets">(</span><span class="hl-reserved">typeof </span><span class="hl-identifier">response</span><span class="hl-code">.</span><span class="hl-identifier">argument</span><span class="hl-code">.</span><span class="hl-identifier">insertIndex</span><span class="hl-code"> == </span><span class="hl-quotes">'</span><span class="hl-string">number</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">insertIndex</span><span class="hl-code"> = </span><span class="hl-identifier">response</span><span class="hl-code">.</span><span class="hl-identifier">argument</span><span class="hl-code">.</span><span class="hl-identifier">insertIndex</span><span class="hl-code">;
    </span><span class="hl-reserved">switch</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dataType</span><span class="hl-brackets">){
    	</span><span class="hl-reserved">case </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">ext</span><span class="hl-code">.</span><span class="hl-identifier">grid</span><span class="hl-code">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-code">.</span><span class="hl-identifier">XML</span><span class="hl-code">:
    		</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">loadData</span><span class="hl-brackets">(</span><span class="hl-identifier">response</span><span class="hl-code">.</span><span class="hl-identifier">responseXML</span><span class="hl-code">, </span><span class="hl-identifier">cb</span><span class="hl-code">, </span><span class="hl-identifier">keepExisting</span><span class="hl-code">, </span><span class="hl-identifier">insertIndex</span><span class="hl-brackets">)</span><span class="hl-code">;
    	</span><span class="hl-reserved">break</span><span class="hl-code">;
    	</span><span class="hl-reserved">case </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">ext</span><span class="hl-code">.</span><span class="hl-identifier">grid</span><span class="hl-code">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-code">.</span><span class="hl-identifier">JSON</span><span class="hl-code">:
    		</span><span class="hl-reserved">var </span><span class="hl-identifier">rtext</span><span class="hl-code"> = </span><span class="hl-identifier">response</span><span class="hl-code">.</span><span class="hl-identifier">responseText</span><span class="hl-code">;
    		</span><span class="hl-reserved">try </span><span class="hl-brackets">{ </span><span class="hl-comment">// this code is a modified version of Yahoo! UI DataSource JSON parsing
		        // Trim leading spaces
		        </span><span class="hl-reserved">while</span><span class="hl-brackets">(</span><span class="hl-identifier">rtext</span><span class="hl-code">.</span><span class="hl-identifier">substring</span><span class="hl-brackets">(</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code"> == </span><span class="hl-quotes">&quot; &quot;</span><span class="hl-brackets">) {
		            </span><span class="hl-identifier">rtext</span><span class="hl-code"> = </span><span class="hl-identifier">rtext</span><span class="hl-code">.</span><span class="hl-identifier">substring</span><span class="hl-brackets">(</span><span class="hl-number">1</span><span class="hl-code">, </span><span class="hl-identifier">rtext</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-brackets">)</span><span class="hl-code">;
		        </span><span class="hl-brackets">}
		        </span><span class="hl-comment">// Invalid JSON response
		        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">rtext</span><span class="hl-code">.</span><span class="hl-identifier">indexOf</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">{</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code"> &lt; </span><span class="hl-number">0</span><span class="hl-brackets">) {
		            </span><span class="hl-reserved">throw </span><span class="hl-quotes">&quot;</span><span class="hl-string">Invalid JSON response</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
		        </span><span class="hl-brackets">}
		
		        </span><span class="hl-comment">// Empty (but not invalid) JSON response
		        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">rtext</span><span class="hl-code">.</span><span class="hl-identifier">indexOf</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">{}</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code"> === </span><span class="hl-number">0</span><span class="hl-brackets">) {
		            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">loadData</span><span class="hl-brackets">({}</span><span class="hl-code">, </span><span class="hl-identifier">response</span><span class="hl-code">.</span><span class="hl-identifier">argument</span><span class="hl-code">.</span><span class="hl-identifier">callback</span><span class="hl-brackets">)</span><span class="hl-code">;
		            </span><span class="hl-reserved">return</span><span class="hl-code">;
		        </span><span class="hl-brackets">}
		
		        </span><span class="hl-comment">// Turn the string into an object literal...
		        // ...eval is necessary here
		        </span><span class="hl-reserved">var </span><span class="hl-identifier">jsonObjRaw</span><span class="hl-code"> = </span><span class="hl-identifier">eval</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">(</span><span class="hl-quotes">&quot;</span><span class="hl-code"> + </span><span class="hl-identifier">rtext</span><span class="hl-code"> + </span><span class="hl-quotes">&quot;</span><span class="hl-string">)</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;
		        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">jsonObjRaw</span><span class="hl-brackets">) {
		            </span><span class="hl-reserved">throw </span><span class="hl-quotes">&quot;</span><span class="hl-string">Error evaling JSON response</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
		        </span><span class="hl-brackets">}
				</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">loadData</span><span class="hl-brackets">(</span><span class="hl-identifier">jsonObjRaw</span><span class="hl-code">, </span><span class="hl-identifier">cb</span><span class="hl-code">, </span><span class="hl-identifier">keepExisting</span><span class="hl-code">, </span><span class="hl-identifier">insertIndex</span><span class="hl-brackets">)</span><span class="hl-code">;
		    </span><span class="hl-brackets">} </span><span class="hl-reserved">catch</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">) {
		        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">fireLoadException</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">, </span><span class="hl-identifier">response</span><span class="hl-brackets">)</span><span class="hl-code">;
				</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">typeof </span><span class="hl-identifier">callback</span><span class="hl-code"> == </span><span class="hl-quotes">'</span><span class="hl-string">function</span><span class="hl-quotes">'</span><span class="hl-brackets">){
			    	</span><span class="hl-identifier">callback</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">, </span><span class="hl-reserved">false</span><span class="hl-brackets">)</span><span class="hl-code">;
			    </span><span class="hl-brackets">}
		   	}
    	</span><span class="hl-reserved">break</span><span class="hl-code">;
    	</span><span class="hl-reserved">case </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">ext</span><span class="hl-code">.</span><span class="hl-identifier">grid</span><span class="hl-code">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-code">.</span><span class="hl-identifier">TEXT</span><span class="hl-code">:
    		</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">loadData</span><span class="hl-brackets">(</span><span class="hl-identifier">response</span><span class="hl-code">.</span><span class="hl-identifier">responseText</span><span class="hl-code">, </span><span class="hl-identifier">cb</span><span class="hl-code">, </span><span class="hl-identifier">keepExisting</span><span class="hl-code">, </span><span class="hl-identifier">insertIndex</span><span class="hl-brackets">)</span><span class="hl-code">;
    	</span><span class="hl-reserved">break</span><span class="hl-code">;
    </span><span class="hl-brackets">}</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-code">;

</span><span class="hl-comment">/**@private*/
</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">ext</span><span class="hl-code">.</span><span class="hl-identifier">grid</span><span class="hl-code">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-code">.</span><span class="hl-identifier">processException</span><span class="hl-code"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">response</span><span class="hl-brackets">){
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">fireLoadException</span><span class="hl-brackets">(</span><span class="hl-reserved">null</span><span class="hl-code">, </span><span class="hl-identifier">response</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">typeof </span><span class="hl-identifier">response</span><span class="hl-code">.</span><span class="hl-identifier">argument</span><span class="hl-code">.</span><span class="hl-identifier">callback</span><span class="hl-code"> == </span><span class="hl-quotes">'</span><span class="hl-string">function</span><span class="hl-quotes">'</span><span class="hl-brackets">){
        </span><span class="hl-identifier">response</span><span class="hl-code">.</span><span class="hl-identifier">argument</span><span class="hl-code">.</span><span class="hl-identifier">callback</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">, </span><span class="hl-reserved">false</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-brackets">}
}</span><span class="hl-code">;

</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">ext</span><span class="hl-code">.</span><span class="hl-identifier">grid</span><span class="hl-code">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-code">.</span><span class="hl-identifier">fireLoadException</span><span class="hl-code"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">, </span><span class="hl-identifier">responseObj</span><span class="hl-brackets">){
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">onLoadException</span><span class="hl-code">.</span><span class="hl-identifier">fireDirect</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">, </span><span class="hl-identifier">e</span><span class="hl-code">, </span><span class="hl-identifier">responseObj</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-code">;

</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">ext</span><span class="hl-code">.</span><span class="hl-identifier">grid</span><span class="hl-code">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-code">.</span><span class="hl-identifier">fireLoadEvent</span><span class="hl-code"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(){
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">fireEvent</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">load</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">loadedPage</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getTotalPages</span><span class="hl-brackets">())</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-code">;

</span><span class="hl-comment">/**
 * Adds a preprocessor function to parse data before it is added to the Model - ie. Date.parse to parse dates.
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">ext</span><span class="hl-code">.</span><span class="hl-identifier">grid</span><span class="hl-code">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-code">.</span><span class="hl-identifier">addPreprocessor</span><span class="hl-code"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">columnIndex</span><span class="hl-code">, </span><span class="hl-identifier">fn</span><span class="hl-brackets">){
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">preprocessors</span><span class="hl-brackets">[</span><span class="hl-identifier">columnIndex</span><span class="hl-brackets">]</span><span class="hl-code"> = </span><span class="hl-identifier">fn</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-code">;

</span><span class="hl-comment">/**
 * Gets the preprocessor function for the specified column.
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">ext</span><span class="hl-code">.</span><span class="hl-identifier">grid</span><span class="hl-code">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-code">.</span><span class="hl-identifier">getPreprocessor</span><span class="hl-code"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">columnIndex</span><span class="hl-brackets">){
    </span><span class="hl-reserved">return this</span><span class="hl-code">.</span><span class="hl-identifier">preprocessors</span><span class="hl-brackets">[</span><span class="hl-identifier">columnIndex</span><span class="hl-brackets">]</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-code">;

</span><span class="hl-comment">/**
 * Removes a preprocessor function.
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">ext</span><span class="hl-code">.</span><span class="hl-identifier">grid</span><span class="hl-code">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-code">.</span><span class="hl-identifier">removePreprocessor</span><span class="hl-code"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">columnIndex</span><span class="hl-brackets">){
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">preprocessors</span><span class="hl-brackets">[</span><span class="hl-identifier">columnIndex</span><span class="hl-brackets">]</span><span class="hl-code"> = </span><span class="hl-reserved">null</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-code">;

</span><span class="hl-comment">/**
 * Adds a postprocessor function to format data before updating the underlying data source (ie. convert date to string before updating XML document).
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">ext</span><span class="hl-code">.</span><span class="hl-identifier">grid</span><span class="hl-code">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-code">.</span><span class="hl-identifier">addPostprocessor</span><span class="hl-code"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">columnIndex</span><span class="hl-code">, </span><span class="hl-identifier">fn</span><span class="hl-brackets">){
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">postprocessors</span><span class="hl-brackets">[</span><span class="hl-identifier">columnIndex</span><span class="hl-brackets">]</span><span class="hl-code"> = </span><span class="hl-identifier">fn</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-code">;

</span><span class="hl-comment">/**
 * Gets the postprocessor function for the specified column.
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">ext</span><span class="hl-code">.</span><span class="hl-identifier">grid</span><span class="hl-code">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-code">.</span><span class="hl-identifier">getPostprocessor</span><span class="hl-code"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">columnIndex</span><span class="hl-brackets">){
    </span><span class="hl-reserved">return this</span><span class="hl-code">.</span><span class="hl-identifier">postprocessors</span><span class="hl-brackets">[</span><span class="hl-identifier">columnIndex</span><span class="hl-brackets">]</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-code">;

</span><span class="hl-comment">/**
 * Removes a postprocessor function.
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">ext</span><span class="hl-code">.</span><span class="hl-identifier">grid</span><span class="hl-code">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-code">.</span><span class="hl-identifier">removePostprocessor</span><span class="hl-code"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">columnIndex</span><span class="hl-brackets">){
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">postprocessors</span><span class="hl-brackets">[</span><span class="hl-identifier">columnIndex</span><span class="hl-brackets">]</span><span class="hl-code"> = </span><span class="hl-reserved">null</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-code">;
</span><span class="hl-comment">/**
 * Empty interface method - Called to process the data returned by the XHR - Classes which extend LoadableDataModel should implement this method.
 * See {@link YAHOO.ext.XMLDataModel} for an example implementation.
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">ext</span><span class="hl-code">.</span><span class="hl-identifier">grid</span><span class="hl-code">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-code">.</span><span class="hl-identifier">loadData</span><span class="hl-code"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">data</span><span class="hl-code">, </span><span class="hl-identifier">callback</span><span class="hl-code">, </span><span class="hl-identifier">keepExisting</span><span class="hl-code">, </span><span class="hl-identifier">insertIndex</span><span class="hl-brackets">){
	
}</span><span class="hl-code">;

</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">ext</span><span class="hl-code">.</span><span class="hl-identifier">grid</span><span class="hl-code">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-code">.</span><span class="hl-identifier">XML</span><span class="hl-code"> = </span><span class="hl-quotes">'</span><span class="hl-string">xml</span><span class="hl-quotes">'</span><span class="hl-code">;
</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">ext</span><span class="hl-code">.</span><span class="hl-identifier">grid</span><span class="hl-code">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-code">.</span><span class="hl-identifier">JSON</span><span class="hl-code"> = </span><span class="hl-quotes">'</span><span class="hl-string">json</span><span class="hl-quotes">'</span><span class="hl-code">;
</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">ext</span><span class="hl-code">.</span><span class="hl-identifier">grid</span><span class="hl-code">.</span><span class="hl-identifier">LoadableDataModel</span><span class="hl-code">.</span><span class="hl-identifier">TEXT</span><span class="hl-code"> = </span><span class="hl-quotes">'</span><span class="hl-string">text</span><span class="hl-quotes">'</span><span class="hl-code">;

</span><span class="hl-comment">/*
YAHOO.ext.grid.SparceDataset = function(bufferSize){
    this.stack = [];
    this.bufferSize = bufferSize || 1000;
    this.maxIndex = 0;
    
    this.events = {
        'rowsexpired' : new YAHOO.util.CustomEvent('rowsexpired')
    };
};

YAHOO.ext.grid.SparceDataset.prototype = {
    addListener : YAHOO.ext.grid.Grid.prototype.addListener,
    removeListener : YAHOO.ext.grid.Grid.prototype.removeListener,
    fireEvent : YAHOO.ext.grid.Grid.prototype.fireEvent,
    
    getRowAt : function(index){
        return this[String(index)];
    },
    
    splice : function(index, deleteCount){
        this.insertRowsAt(index, Array.prototype.slice.call(arguments, 2));
    },
    
    concat : function(){
        this.insertRowsAt(index, Array.prototype.slice.call(arguments, 2));
    },
    
    insertRowsAt: function(index, rowData){
        for(var i = 0; i &lt; rowData.length; i++) {
        	var d = rowData[i];
        	var dataIndex = index + i;
        	this[dataIndex] = d;
        	this.stack.push(dataIndex);
        }
        this.maxIndex = Math.max(this.maxIndex, index+rowData.length);
        this.cleanup();
    },
    
    cleanup : function(){
        while(stack.length &gt; this.bufferSize){
            var dataIndex = stack.shift();
            delete this[dataIndex];
            this.fireEvent('rowsexpired', dataIndex);
        }
    }
};*/





</span></pre></div><hr>Copyright &copy; 2006 Jack Slocum. All rights reserved.</body></html>