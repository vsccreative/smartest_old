<?xml version="1.0" ?>

<relationshiptypes>
  
  <type id="SM_MTMLOOKUP_RELATED_PAGES" return="class:SmartestPage" method="SM_MTMLOOKUPMETHOD_NETWORK">
    <label>Links one page to others as related pages.</label>
    <network table="Pages" foreignkey="page_id" class="SmartestPage" />
  </type>
  
  <type id="SM_MTMLOOKUP_RELATED_ITEMS" return="class:SmartestItem" method="SM_MTMLOOKUPMETHOD_NETWORK">
    <label>Links one item to others of the same model.</label>
    <network table="Items" foreignkey="item_id" class="SmartestItem" />
  </type>
  
  <type id="SM_MTMLOOKUP_RELATED_ITEMS_OTHER" return="class:SmartestItem" method="SM_MTMLOOKUPMETHOD_NETWORK">
    <label>Links one item to others of a different model.</label>
    <network table="Items" foreignkey="item_id" class="SmartestItem" />
  </type>
  
  <type id="SM_MTMLOOKUP_PAGES_ITEMS" return="meta:targetEntityClass" method="SM_MTMLOOKUPMETHOD_MAP">
    <label>Links static pages to items as related content.</label>
    <entity table="Items" class="SmartestItem" foreignkey="item_id" index="1" required="true" />
    <entity table="Pages" class="SmartestPage" foreignkey="page_id" index="2" required="true" />
  </type>
  
  <type id="SM_MTMLOOKUP_PAGE_AUTHORS" return="meta:targetEntityClass" method="SM_MTMLOOKUPMETHOD_MAP">
    <label>Links static pages to users in an authorship relationship.</label>
    <entity table="Users" class="SmartestUser" foreignkey="user_id" index="1" required="true" />
    <entity table="Pages" class="SmartestPage" foreignkey="page_id" index="2" required="true" />
  </type>
  
  <type id="SM_MTMLOOKUP_ITEM_AUTHORS" return="meta:targetEntityClass" method="SM_MTMLOOKUPMETHOD_MAP">
    <label>Links static pages to users in an authorship relationship.</label>
    <entity table="Users" class="SmartestUser" foreignkey="user_id" index="1" required="true" />
    <entity table="Items" class="SmartestItem" foreignkey="item_id" index="2" required="true" />
  </type>
  
  <type id="SM_MTMLOOKUP_ROLE_TOKENS" return="meta:targetEntityClass" method="SM_MTMLOOKUPMETHOD_MAP">
    <label>Links roles to the tokens they "contain".</label>
    <entity table="Roles" class="SmartestRole" foreignkey="role_id" index="1" required="true" />
    <entity table="UserTokens" class="SmartestUserToken" foreignkey="token_id" index="2" required="true" />
  </type>
  
  <type id="SM_MTMLOOKUP_ASSET_GROUPS" return="meta:targetEntityClass" method="SM_MTMLOOKUPMETHOD_MAP">
    <label>Maps files in the repository into groups.</label>
    <entity table="Assets" class="SmartestAsset" foreignkey="asset_id" index="1" required="true" />
    <entity table="AssetGroups" class="SmartestAssetGroup" foreignkey="assetgroup_id" index="2" required="true" />
  </type>
  
  <type id="SM_MTMLOOKUP_TEXTFRAGMENT_ATTACHMENTS" return="class:SmartestTextFragmentAttachment" method="SM_MTMLOOKUPMETHOD_MAP">
    <label>Maps files to textfragments where they are referenced.</label>
    <entity table="TextFragments" class="SmartestTextFragment" foreignkey="textfragment_id" index="1" required="true" />
    <entity table="Assets" class="SmartestAsset" foreignkey="asset_id" index="2" required="true" />
    <instances>true</instances>
  </type>
  
</relationshiptypes>